{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{201:function(t,e,a){t.exports=a.p+\"assets/img/api-client.bbda459e.png\"},209:function(t,e,a){\"use strict\";a.r(e);var s=a(0),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"api-client-package\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#api-client-package\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" API Client package\")]),t._v(\" \"),s(\"p\",[t._v(\"API client is a client-side micro-application built to consume data from APIs.\")]),t._v(\" \"),s(\"p\",[t._v(\"Every integration should use it's own API client. It provides a friendly abstraction layer over network calls and their configuration to make them easily consumable by other parts of the system or by other apps.  \"),s(\"strong\",[t._v(\"It's a standalone package that can be used in any JavaScript project.\")]),t._v(\".\")]),t._v(\" \"),s(\"p\",[t._v(\"You can think about API client as enhanced data resolever from 1.x. API Client should be consumed by VS modules and configured by hosting project enviroment (usually Nuxt).\")]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"To ensure that every integration is configurable we should promote writing dedicated API clients as a good practice\")])]),t._v(\" \"),s(\"p\",[t._v(\"API client will use \"),s(\"a\",{attrs:{href:\"https://github.com/axios/axios\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"axios\"),s(\"OutboundLink\")],1),t._v(\" as it's the best HTTP Client lib out there providing decent configuration capabilities. It can use either GQL API and REST API and is really good documented so we don't need to reinvent the wheel and spend time on docs.\")]),t._v(\" \"),s(\"p\",[t._v(\"API client is using API client interface (only for \"),s(\"code\",[t._v(\"setup\")]),t._v(\") from Vue Storefront core.\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"responsibility-and-use-case\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#responsibility-and-use-case\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Responsibility and use case\")]),t._v(\" \"),s(\"p\",[t._v(\"API client responsibility is just to make an abstraction over API data operations and it's configuration.\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"architecture\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#architecture\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Architecture\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:a(201),alt:\"Architecture\"}})]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"Input\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"data from Vue Storefront API\")]),t._v(\" \"),s(\"li\",[t._v(\"configuration from\"),s(\"code\",[t._v(\"setup()\")]),t._v(\" function where you can set basic axios properties and modify endpoints.\")]),t._v(\" \"),s(\"li\",[t._v(\"API Client interfaces from core\")])]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"Output\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"functions for data resolution (like \"),s(\"code\",[t._v(\"getProduct\")]),t._v(\", \"),s(\"code\",[t._v(\"makeOrder\")]),t._v(\" etc)\")]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"setup\")]),t._v(\" function\")])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"api\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#api\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" API\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"initialization-with-setup\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#initialization-with-setup\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Initialization with \"),s(\"code\",[t._v(\"setup()\")])]),t._v(\" \"),s(\"p\",[t._v(\"With this method we can setup global configuration for every request. You can pass every \"),s(\"code\",[t._v(\"axios.create()\")]),t._v(\" (\"),s(\"a\",{attrs:{href:\"https://github.com/axios/axios#axioscreateconfig\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ref\"),s(\"OutboundLink\")],1),t._v(\") option here.\")]),t._v(\" \"),s(\"p\",[t._v(\"API Client ships with default configuration that can be overwritten by the user (so usually the only thing you add is \"),s(\"code\",[t._v(\"baseURL\")]),t._v(\")\")]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"NOTE\")]),t._v(\" Not certain yet\\nThere is also \"),s(\"code\",[t._v(\"resolvers\")]),t._v(\" object letting users modify every axios request to VS API. Every resolver is in a form of \"),s(\"a\",{attrs:{href:\"https://github.com/axios/axios#request-config\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"axios request\"),s(\"OutboundLink\")],1),t._v(\".\")]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"Examples\")])]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"NOTE\")]),t._v(\" \"),s(\"code\",[t._v(\"setup()\")]),t._v(\" is needed only if you want to use API Client standalone. For Nuxt apps those options are hoisted into Nuxt config.\\nSetting up application just with \"),s(\"code\",[t._v(\"baseURL\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setup\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  baseURL\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'https://some-domain.com/api/'\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"Setting up advanced configuration and overriding (for future versions)\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setup\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  baseURL\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'https://some-domain.com/api/'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  timeout\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1000\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  headers\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'X-Custom-Header'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'foobar'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"h3\",{attrs:{id:\"getting-data\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#getting-data\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Getting data\")]),t._v(\" \"),s(\"p\",[t._v(\"Every request is just a axios request. You can override any request params just by passing axios properties to method arguments.\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"available-methods\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#available-methods\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Available methods\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"getProduct\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"id\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"include\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"exclude\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"getProducts\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"filters\")]),t._v(\" - based on product attributes (color, size etc)\")]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"from\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"to\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"include\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"exclude\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"getCategories\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"filters\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"from\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"to\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"include\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"exclude\")])])]),t._v(\" \"),s(\"hr\"),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"createCart\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"token\")]),t._v(\" - guest cart token\")])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"addToCart\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"items\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"removeFromCart\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"items\")]),t._v(\" - list of unique id's\")])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"applyCoupon\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"code\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"removeCoupon\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"code\")])])]),t._v(\" \"),s(\"hr\"),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"placeOrder\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"personalDetails\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"shippingMethod\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"shippingDetails\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"paymentMethod\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"paymentDetails\")])])]),t._v(\" \"),s(\"hr\"),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"logIn\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"emaloginil\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"password\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"logOut\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"login\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"register\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"login\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"password\")])]),t._v(\" \"),s(\"li\",[s(\"code\",[t._v(\"userData\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"forgotPassword\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"email\")])])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"profile\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"code\",[t._v(\"token\")])])]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"Examples\")])]),t._v(\" \"),s(\"p\",[t._v(\"Get all categories (default behavior)\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" getCategories \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'@vue-storefront/api-client'\")]),t._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" categories\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getCategories\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" data \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \\n    categories \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" data\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"Modify request to get categories\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" getCategories \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'@vue-storefront/api-client'\")]),t._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" categories\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getCategories\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" params\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \\n    filter\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \\n      id\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"123\")]),t._v(\" \\n      \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" data \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \\n    categories \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" data\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}